<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parkinson's Disease Prediction</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <script>
      function prefillPositiveData() {
        const positiveData = [
          119.992, 157.302, 74.997, 0.00784, 0.00007, 0.0037, 0.00554, 0.01109,
          0.04374, 0.426, 0.02182, 0.0313, 0.02971, 0.06545, 0.02211, 21.033,
          0.414783, 0.815285, -4.813031, 0.266482, 2.301442, 0.284654,
        ];
        fillForm(positiveData);
        document.getElementById("result-section").style.display = "none";
      }

      function prefillNegativeData() {
        const negativeData = [
          197.076, 206.896, 192.055, 0.00289, 0.00001, 0.00166, 0.00168,
          0.00498, 0.01098, 0.097, 0.00563, 0.0068, 0.00802, 0.01689, 0.00339,
          26.775, 0.422229, 0.741367, -7.3483, 0.177551, 1.743867, 0.085569,
        ];
        fillForm(negativeData);
        document.getElementById("result-section").style.display = "none";
      }

      function clearAllData() {
        // Set all input fields to 0
        const inputs = document.querySelectorAll('input[type="number"]');
        inputs.forEach((input) => {
          input.value = "none"; // Set each input value to 0
        });

        // Hide the result section
        document.getElementById("result-section").style.display = "none";
      }

      function fillForm(data) {
        const fields = document.querySelectorAll('input[type="number"]');
        fields.forEach((field, index) => {
          field.value = data[index];
        });
      }

      function showAccuracyPopup() {
        const accuracy = 94; // Example accuracy value, should be dynamic based on prediction
        document.getElementById(
          "accuracyMessage"
        ).innerText = `XGBoost accuracy is ${accuracy}%`;

        // Set modal background color based on accuracy
        const modal = document.getElementById("accuracyModal");
        if (accuracy > 90) {
          modal.style.backgroundColor = "lightgreen"; // Green for accuracy > 90
        } else if (accuracy >= 80 && accuracy <= 90) {
          modal.style.backgroundColor = "orange"; // Orange for accuracy between 80 and 90
        } else {
          modal.style.backgroundColor = "yellow"; // Yellow for accuracy < 80
        }

        modal.style.display = "block"; // Show the modal
      }

      function closeAccuracyPopup() {
        const modal = document.getElementById("accuracyModal");
        modal.style.display = "none"; // Hide the modal when the close button is clicked
      }
    </script>
  </head>

  <body>
    {% extends "base.html" %} {% block title %}Parkinson's Disease Prediction{%
    endblock %} {% block content %} {% include "parameters.html" %}
    <!-- Add this to your HTML where you want the modal to be -->
    <div id="accuracyModal">
      <p id="accuracyMessage">XGBoost accuracy is 94%</p>
      <button id="modalCloseBtn" onclick="closeAccuracyPopup()">Close</button>
    </div>

    {% endblock %}
  </body>
</html>
